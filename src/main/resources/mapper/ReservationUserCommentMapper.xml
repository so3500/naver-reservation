<?xml version="1.0" encoding="UTF-8"?>
    <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nts.pjt3.dao.ReservationUserCommentDao">
	<select id="getReservationUserCommentsByProductId" resultType="ReservationUserComment">
	SELECT
		rsvusrcmt.id,
		rsvusrcmt.product_id,
		rsvusrcmt.reservation_info_id,
		rsvusrcmt.score,
		rsvusrcmt.comment,
		rsvinfo.reservation_email,
		DATE_FORMAT(rsvinfo.reservation_date, '%Y.%m.%d') AS reservation_date,
		rsvusrcmt.create_date,
		rsvusrcmt.modify_date
	FROM
		reservation_user_comment rsvusrcmt,
		reservation_info rsvinfo
	WHERE
		rsvinfo.id = rsvusrcmt.reservation_info_id AND
		rsvusrcmt.product_id = #{productId};
	</select>
</mapper>
    